<html>
<head>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js"></script>
	<script type="text/javascript" src="raphael.js"></script>
	<script type="text/javascript">
		dojo.require("dojo.window");
			
		function setup(){
			var raphwidth = 480;
			var raphheight = 629;
			var raphx = dojo.window.getBox().w/2 - raphwidth/2;
			var raphy = dojo.window.getBox().h/2 - raphheight/2;
			var raph = new Raphael(raphx, raphy, raphwidth, raphheight);
			//raph.image('face.png', 0, 0, raphwidth, raphheight);
			var handheight = 140;
			var handwidth = 100;
			var hands = {
				h1: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -7.9724,-30.46583 3.91431,-20.63465 5.5357,-19.46428 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 6.30615,-5.73561 9.44827,-10.69886 13.57274,-7.21005 2.90796,2.56405 1.28289,4.66518 -1.25133,9.35291 3.43369,-2.69919 3.97644,-3.10453 7.63458,-1.548 1.86248,1.54367 2.18554,3.75444 -0.75807,9.16557 5.11965,-4.22963 6.5001,-1.81123 7.42311,-1.17321 1.32756,2.03743 1.18723,4.65511 0.35656,6.604 -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h2: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -6.77745,-23.24725 3.84092,-20.7143 5.5357,-19.46428 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 l 6.25,-9.10714 L 227.5,342.00504 c 7.43754,-10.05074 8.65267,-12.61901 14.28703,-10.96006 3.94498,2.72378 -1.7304,10.88643 -5.35846,15.60291 l -10.25448,15.87524 -5.81696,8.58905 c 4.50512,-2.16348 3.97644,-3.10453 7.63458,-1.548 1.86248,1.54367 2.18554,3.75444 -0.75807,9.16557 5.11965,-4.22963 6.5001,-1.81123 7.42311,-1.17321 1.32756,2.03743 1.18723,4.65511 0.35656,6.604 -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h3: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -6.95602,-25.74725 4.73377,-20.17858 5.5357,-19.46428 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 2.90431,-2.79649 9.14205,-10.04543 11.42859,-8.39287 2.64423,2.52901 1.74452,6.39413 -2e-5,9.82143 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 l 6.25,-9.10714 L 227.5,342.00504 c 7.43754,-10.05074 8.65267,-12.61901 14.28703,-10.96006 3.94498,2.72378 -1.7304,10.88643 -5.35846,15.60291 l -10.25448,15.87524 -5.81696,8.58905 7.45553,-10.86168 8.77897,-13.43728 c 3.17208,-4.85524 7.21596,-9.61602 10.86437,-7.60618 1.92759,1.06187 2.11786,4.7092 -2.39189,11.60562 l -9.54451,14.59567 -8.28596,13.32142 9.02681,-14.39452 c 5.22679,-8.33484 10.1812,-14.88955 13.03916,-12.49298 3.69596,3.09928 -2.19067,9.97379 -3.50546,12.40264 l -10.78084,19.91565 c -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h4: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -6.95602,-25.74725 4.73377,-20.17858 5.5357,-19.46428 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 l 6.25,-9.10714 L 227.5,342.00504 c 7.43754,-10.05074 8.65267,-12.61901 14.28703,-10.96006 3.94498,2.72378 -1.7304,10.88643 -5.35846,15.60291 l -10.25448,15.87524 -5.81696,8.58905 7.45553,-10.86168 8.77897,-13.43728 c 3.17208,-4.85524 7.21596,-9.61602 10.86437,-7.60618 1.92759,1.06187 2.11786,4.7092 -2.39189,11.60562 l -9.54451,14.59567 -8.28596,13.32142 9.02681,-14.39452 c 5.22679,-8.33484 10.1812,-14.88955 13.03916,-12.49298 3.69596,3.09928 -2.19067,9.97379 -3.50546,12.40264 l -10.78084,19.91565 c -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h5: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -9.05597,-22.3066 -6.44596,-16.36381 -12.14286,-26.78572 -5.39314,-8.10155 -9.90442,-9.26639 -5.24564,-10.91864 7.56928,-2.68446 9.09387,0.5579 12.38849,5.02578 6.45288,9.58615 8.66605,12.61863 10.53571,13.2143 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 l 6.25,-9.10714 L 227.5,342.00504 c 7.43754,-10.05074 8.65267,-12.61901 14.28703,-10.96006 3.94498,2.72378 -1.7304,10.88643 -5.35846,15.60291 l -10.25448,15.87524 -5.81696,8.58905 7.45553,-10.86168 8.77897,-13.43728 c 3.17208,-4.85524 7.21596,-9.61602 10.86437,-7.60618 1.92759,1.06187 2.11786,4.7092 -2.39189,11.60562 l -9.54451,14.59567 -8.28596,13.32142 9.02681,-14.39452 c 5.22679,-8.33484 10.1812,-14.88955 13.03916,-12.49298 3.69596,3.09928 -2.19067,9.97379 -3.50546,12.40264 l -10.78084,19.91565 c -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h6: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -9.05597,-22.3066 -6.44596,-16.36381 -12.14286,-26.78572 -5.39314,-8.10155 -9.90442,-9.26639 -5.24564,-10.91864 7.56928,-2.68446 9.09387,0.5579 12.38849,5.02578 6.45288,9.58615 8.66605,12.61863 10.53571,13.2143 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 6.30615,-5.73561 9.44827,-10.69886 13.57274,-7.21005 2.90796,2.56405 1.28289,4.66518 -1.25133,9.35291 3.43369,-2.69919 3.97644,-3.10453 7.63458,-1.548 1.86248,1.54367 2.18554,3.75444 -0.75807,9.16557 5.11965,-4.22963 6.5001,-1.81123 7.42311,-1.17321 1.32756,2.03743 1.18723,4.65511 0.35656,6.604 -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h7: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -9.05597,-22.3066 -6.44596,-16.36381 -12.14286,-26.78572 -5.39314,-8.10155 -9.90442,-9.26639 -5.24564,-10.91864 7.56928,-2.68446 9.09387,0.5579 12.38849,5.02578 6.45288,9.58615 8.66605,12.61863 10.53571,13.2143 4.09916,0.16265 6.38395,-0.95562 16.78571,-14.64286 4.18623,-5.61431 10.69125,-14.49939 14.0876,-18.17409 5.19212,-5.61765 6.98157,-9.48403 11.6267,-7.71878 2.88259,1.25394 3.43363,3.28004 -4.10715,13.03573 0,0 -6.82779,9.4941 -10.17858,14.2857 -2.10998,3.01725 -6.24999,9.10714 -6.24999,9.10714 l 6.25,-9.10714 L 227.5,342.00504 c 7.43754,-10.05074 8.65267,-12.61901 14.28703,-10.96006 3.94498,2.72378 -1.7304,10.88643 -5.35846,15.60291 l -10.25448,15.87524 -5.81696,8.58905 c 4.50512,-2.16348 3.97644,-3.10453 7.63458,-1.548 1.86248,1.54367 2.18554,3.75444 -0.75807,9.16557 5.11965,-4.22963 6.5001,-1.81123 7.42311,-1.17321 1.32756,2.03743 1.18723,4.65511 0.35656,6.604 -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218",
				h8: "m 164.2857,429.86218 c 27.16362,-28.34482 16.60651,-35.19649 16.25003,-37.32142 -9.05597,-22.3066 -6.44596,-16.36381 -12.14286,-26.78572 -5.39314,-8.10155 -9.90442,-9.26639 -5.24564,-10.91864 7.56928,-2.68446 9.09387,0.5579 12.38849,5.02578 6.45288,9.58615 8.66605,12.61863 10.53571,13.2143 4.09916,0.16265 6.38395,-2.38419 15.17857,-16.42857 3.1148,-5.61431 7.51542,-12.37423 11.40903,-18.70981 4.43702,-7.21982 5.1012,-7.19402 8.05527,-7.18306 2.88259,1.25394 1.1122,5.60146 -1.9643,12.14287 0,0 -4.06316,8.75193 -5.89286,13.21427 -1.14943,2.80326 -3.24684,7.17166 -4.29213,10.04638 -0.71657,1.93279 0.31131,2.75106 2.30366,1.56589 l 13.95276,-12.86227 8.75,-8.57143 c 8.9319,-8.7496 10.25981,-8.33329 12.85845,-6.13862 2.15927,2.72378 -2.44468,8.74356 -6.60846,11.49576 -0.17857,0.89286 -11.86162,11.94667 -11.86162,11.94667 l -7.60267,7.51762 c 4.50512,-2.16348 3.97644,-3.10453 7.63458,-1.548 1.86248,1.54367 2.18554,3.75444 -0.75807,9.16557 5.11965,-4.22963 6.5001,-1.81123 7.42311,-1.17321 1.32756,2.03743 1.18723,4.65511 0.35656,6.604 -4.68867,8.49133 -8.88188,17.97361 -14.90104,23.80397 -4.19455,4.36201 -5.43836,1.84872 -12.37426,13.71605 -5.08297,8.69697 -7.69091,20.63004 -11.46753,25.8497 164.2857,429.86218"
			}
			var handsdrawn = {
				h1: bloop(hands.h1),
				h2: bloop(hands.h2),
				h3: bloop(hands.h3),
				h4: bloop(hands.h4),
				h5: bloop(hands.h5),
				h6: bloop(hands.h6),
				h7: bloop(hands.h7),
				h8: bloop(hands.h8)
			}
			function bloop(path){
				var hand = raph.path(path).attr({fill:'#f63', 'stroke-width':3, opacity: 0});
				var handx = hand.getBBox().x + hand.getBBox().width;
				var handy = hand.getBBox().y + hand.getBBox().height;
				hand.scale(handwidth/hand.getBBox().width, handheight/hand.getBBox().height);
				hand.translate(raphwidth/2 - handx, raphheight/2 - handy);
				return hand;
			}
			var positions = {
				mouth: {
					start: [272, 356],
					end: [272, 356]
				},
				chin: {
					start: [298, 412],
					end: [298, 412]
				},
				throat: {
					start: [298, 452],
					end: [298, 452]
				},
				side: {
					start: [206, 400],
					end: [206, 400]
				},
				sideforward: {
					start: [206, 400],
					end: [206, 390]
				},
				sidedown: {
					start: [206, 400],
					end: [206, 430]
				},
				chintothroat: {
					start: [298, 412],
					end: [298, 452]
				},
				sidetothroat: {
					start: [206, 400],
					end: [298, 452]
				},
			}
			handsdrawn.h1.translate( positions.throat.start[0] - handsdrawn.h1.getBBox().x - handsdrawn.h1.getBBox().width, positions.throat.start[1] - handsdrawn.h1.getBBox().y );
			var hand = raph.path(handsdrawn.h1.attr("path")).attr({fill:'#f63', 'stroke-width':3});
			var trans = [
				['h1', 'throat', 'h5', 'lit'], //it
				['h5', 'sidedown', 'h1', 'ul'], //ul
				['h5', 'throat', 'h2', 'mis'], //miss
				['h5', 'sidedown', 'h5', 'muf'], //muff
				['h5', 'chin', 'h5', 'fet'], //fet
				['h2', 'throat', 'h2', 'sat'], //sat
				['h2', 'sideforward', 'h4', 'on'], //on
				['h4', 'chintothroat', 'h5', 'ayt'], //a t
				['h5', 'sidedown', 'h5', 'tuf'], //tuff
				['h5', 'chin', 'h5'], //fet
				['h5', 'mouth', 'h5'], //teat
				['h5', 'mouth', 'h4'], //in
				['h4', 'sidedown', 'h4'], //guh
				['h4', 'mouth', 'h4'], //her
				['h2', 'mouth', 'h2'], //cur
				['h1', 'throat', 'h2'], //ds
				['h2', 'throat', 'h4'], //an
				['h1', 'sidedown', 'h6'], //duh-w
				['h6', 'chintothroat', 'h8'], //way
				['h8', 'sidedown', 'h6'], //wuhl
				['h6', 'sideforward', 'h4'] //lon
				['h4', 'sidedown', 'h2'], //guh-k
				['h2', 'chintothroat', 'h5'], //caim
				['h5', 'chintothroat', 'h8'], //may
				['h3', 'sidedown', 'h1'], //suhp
				['h1', 'sidetothroat', 'h1'], //pide
				['h1', 'mouth', 'h3'], //der
				['h3', 'throat', 'h4'], //ran
				['h5', 'sidedown', 'h5'], //fuh
				['h3', 'sidetothroat', 'h5'], //rite
				['h5', 'chin', 'h4'], //ten
				['h1', 'sidedown', 'h1'], //duh
				['h5', 'throat', 'h2'], //miss
				['h5', 'sidedown', 'h5', 'muf'], //muff
				['h5', 'chin', 'h5', 'fet'], //fet
				['h5', 'sidedown', 'h5', 'muf'], //tuh
				['h5', 'chintothroat', 'h8', 'fet'], //way
			];
			function display(i){
				var chunk = trans[i];
				handsdrawn[chunk[0]].translate( positions[chunk[1]].start[0] - handsdrawn[chunk[0]].getBBox().x- handsdrawn[chunk[0]].getBBox().width, positions[chunk[1]].start[1] - handsdrawn[chunk[0]].getBBox().y);
				console.log(positions[chunk[1]]);
				setTimeout(function(){
					hand.animate({path: handsdrawn[chunk[0]].attr("path")}, 100, callback= function(){
						handsdrawn[chunk[2]].translate( positions[chunk[1]].end[0] - handsdrawn[chunk[2]].getBBox().x - handsdrawn[chunk[2]].getBBox().width, positions[chunk[1]].end[1] - handsdrawn[chunk[2]].getBBox().y);
						setTimeout(function(){
							hand.animate({path: handsdrawn[chunk[2]].attr("path")}, 100, callback= function(){display(i+1);});
						}, 145);
					});
				}, 145);
			}
			display(0);
		}
		
		dojo.ready(setup);
	
	</script>
</head>

<body>

<body>
</html>